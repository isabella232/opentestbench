#! /usr/bin/tcsh

test=single_generation_delta_from_MG
PSNRorVISUAL=$1
codecs="{'E1_FLAG_${PSNRorVISUAL}_XSM' 'E1_FLAGv_${PSNRorVISUAL}_XSM' 'E1_NEGv_${PSNRorVISUAL}_XSM' 'E1_NEG_${PSNRorVISUAL}_XSM' 'E1_ZTCv_${PSNRorVISUAL}_XSM' 'E1_FLAG-NEG-ZTCv_${PSNRorVISUAL}_XSM' 'E1_FLAGv-NEGv-ZTCv_${PSNRorVISUAL}_XSM' 'E1_FLAG-NEG_${PSNRorVISUAL}_XSM' 'E1_FLAG-ZTCv_${PSNRorVISUAL}_XSM' 'E1_NEG-ZTCv_${PSNRorVISUAL}_XSM' 'E1_FLAGv-NEGv_${PSNRorVISUAL}_XSM' 'E1_FLAGv-ZTCv_${PSNRorVISUAL}_XSM' 'E1_NEGv-ZTCv_${PSNRorVISUAL}_XSM'}"
picture_set="{'VQEG_CrowdRun_3840x2160p_50_10b_bt709_422_07111' 'ARRI_Lake2_2880x1620p_24_10b_bt709_422_0040'}"

content_dirs_sb_factors="{'1' '1'}"
color_spaces="{'YCbCr' 'YCbCr'}"
chroma_subs="{'422' '422'}"
bit_depths="{'10' '10'}"
image_sizes="{'3840x2160' '2880x1620'}"
axislimit="[3 14 25 125 ; 3 14 25 125 ; 3 14 35 125 ; 3 14 35 125 ]"
axislimitmean="[3 14 25 110]"
bitrates="[3 4 5 6 8 10 12 14]"
niter=10
gen_number=$2

matlab -nodesktop -r "codecs=${codecs}; picture_set=${picture_set}; color_spaces=${color_spaces}; chroma_subs=${chroma_subs}; bit_depths=${bit_depths}; image_sizes=${image_sizes}; bitrates=${bitrates}; axislimit=${axislimit}; axislimitmean=${axislimitmean}; niter=${niter}; content_dirs_sb_factors=${content_dirs_sb_factors}; gen_number=${gen_number}; run benchmark_graphics/${test}.m; exit;"
