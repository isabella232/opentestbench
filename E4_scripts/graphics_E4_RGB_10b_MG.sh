#! /usr/bin/tcsh

test=multi_generation
codecs="{'E4_dwt53_nhdwt5_nvdwt1_nla0_nbr0_XSM' 'E4_dwt53_nhdwt5_nvdwt1_nla2_nbr2_XSM' 'E4_dwt53_nhdwt5_nvdwt1_nla4_nbr4_XSM' 'E4_dwt53_nhdwt5_nvdwt1_nla6_nbr6_XSM' 'E4_dwt53_nhdwt5_nvdwt2_nla0_nbr0_XSM' 'E4_dwt53_nhdwt5_nvdwt2_nla4_nbr4_XSM'}"
picture_set="{'ARRI_AlexaDrums_3840x2160p_24_10b_bt709_444_00162'  'BLENDER_Sintel2_4096x1744p_24_10b_sRGB_444_00004606'}"

content_dirs_sb_factors="{'1' '1'}"
color_spaces="{'RGB' 'RGB'}"
chroma_subs="{'444' '444'}"
bit_depths="{'10' '10'}"
image_sizes="{'3840x2160' '4096x1744'}"
axislimit="[3 14 25 125 ; 3 14 25 125 ; 3 14 35 125 ; 3 14 35 125 ]"
axislimitmean="[3 14 25 110]"
bitrates=$1
niter=10

matlab -nodesktop -r "codecs=${codecs}; picture_set=${picture_set}; color_spaces=${color_spaces}; chroma_subs=${chroma_subs}; bit_depths=${bit_depths}; image_sizes=${image_sizes}; bitrates=${bitrates}; axislimit=${axislimit}; axislimitmean=${axislimitmean}; niter=${niter}; content_dirs_sb_factors=${content_dirs_sb_factors}; run benchmark_graphics/${test}.m; exit;"
